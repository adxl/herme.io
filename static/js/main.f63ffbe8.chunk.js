(this["webpackJsonpherme.io-frontend"]=this["webpackJsonpherme.io-frontend"]||[]).push([[0],{50:function(e,t,a){e.exports=a(88)},58:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(20),s=a.n(o),c=(a(55),a(56),a(57),a(58),a(15)),l=a(7),i=a(4),m=a.n(i),u=a(13),h=a(9),f=a(10),d=a(12),p=a(11),v=a(3),g=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={firstName:"",lastName:"",email:"",username:"",password:"",errorMessage:""},e.handleInputChange=function(t){var a=t.target.name,n=t.target.value;switch(a){case"firstName":e.setState({firstName:n});break;case"lastName":e.setState({lastName:n});break;case"email":e.setState({email:n});break;case"username":e.setState({username:n});break;case"password":e.setState({password:n})}},e.handleSubmit=function(){var t=Object(u.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state)},t.next=4,fetch("https://herme-io.herokuapp.com/register/",n).then((function(e){return e.ok?"signed":e.text()})).then((function(t){"signed"===t?window.location.replace("".concat("/herme.io","/login")):e.setState({errorMessage:t})})).catch((function(e){throw e}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state.errorMessage;return r.a.createElement(n.Fragment,null,r.a.createElement(v.d,null,r.a.createElement(v.k,null,r.a.createElement(v.c,{md:"6",className:"form-main"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",{className:"h4 text-center mb-5"},"Welcome to Herme.io"),e&&r.a.createElement("p",{className:"mb-3 bad-login-register-msg"},e),r.a.createElement("div",null,r.a.createElement("div",{className:"field"},r.a.createElement("input",{name:"firstName",required:!0,minLength:"2",type:"text",placeholder:"First Name",id:"defaultFormRegisterFNameEx",className:"form-control",onChange:this.handleInputChange})),r.a.createElement("div",{className:"field"},r.a.createElement("input",{name:"lastName",required:!0,minLength:"2",type:"text",placeholder:"Last Name",id:"defaultFormRegisterLNameEx",className:"form-control",onChange:this.handleInputChange}),r.a.createElement("br",null))),r.a.createElement("input",{name:"email",type:"email",required:!0,placeholder:"Email",id:"defaultFormRegisterEmailEx",className:"form-control",onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement("input",{name:"username",required:!0,minLength:"4",type:"text",placeholder:"Username",id:"defaultFormRegisterUsernameEx",className:"form-control",onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement("input",{name:"password",required:!0,minLength:"10",type:"password",placeholder:"Password",id:"defaultFormRegisterPasswordEx",className:"form-control",onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center mt-4"},r.a.createElement(v.b,{color:"unique",type:"submit"},"Register"),r.a.createElement("p",{className:"mt-3"},"Have an account?",r.a.createElement(c.b,{to:"/login"}," Login"))))))))}}]),a}(n.Component),E=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",errorMessage:""},e.handleInputChange=function(t){var a=t.target.value;"username"===t.target.name?e.setState({username:a}):e.setState({password:a})},e.handleSubmit=function(t){t.preventDefault();var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state)};fetch("https://herme-io.herokuapp.com/login/",a).then((function(t){if(t.ok)return t.text();throw e.setState({errorMessage:"Wrong username and/or password"}),new Error("BAD REQUEST")})).then((function(e){e&&(console.log(e),localStorage.setItem("token",e),window.location.replace("".concat("/herme.io","/home")))})).catch((function(e){console.log(e)}))},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state.errorMessage;return r.a.createElement(n.Fragment,null,r.a.createElement(v.d,null,r.a.createElement(v.k,null,r.a.createElement(v.c,{md:"6",className:"form-main"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",{className:"h3 text-center mb-3"},"Herme.io"),r.a.createElement("p",{className:"h4 text-center mb-4"},"Sign in"),e&&r.a.createElement("p",{className:"mb-3 bad-login-register-msg"},e),r.a.createElement("input",{name:"username",type:"text",placeholder:"Username",required:!0,id:"defaultFormLoginEmailEx",className:"form-control",onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement("input",{name:"password",type:"password",placeholder:"Password",required:!0,id:"defaultFormLoginPasswordEx",className:"form-control",onChange:this.handleInputChange}),r.a.createElement("div",{className:"text-center mt-4"},r.a.createElement(v.b,{color:"indigo",type:"submit"},"Login"),r.a.createElement("p",{className:"mt-3"},"Not a member?",r.a.createElement(c.b,{to:"/register"}," Register"))))))))}}]),a}(n.Component),b=a(19),k=a(25),N=a(23),y=a(36),w=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userData:null},e.likePost=function(t){var a=t.target.value||t.target.parentElement.value;a=a||t.target.parentElement.parentElement.value;var n=e.props.fetchPosts,r={postId:a},o={method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(r)};fetch("https://herme-io.herokuapp.com/posts/like",o).then((function(e){e.ok&&n()})).catch((function(e){throw e}))},e.hashColor=function(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);var n=(16777215&t).toString(16).toUpperCase();return"00000".substring(0,6-n.length)+n},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.fetchAuthorData()}},{key:"fetchAuthorData",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t,a=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.data,e.next=3,fetch("https://herme-io.herokuapp.com/users/".concat(t.author),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){a.setState({userData:e})})).catch((function(e){throw e}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.data,t=this.state.userData;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"post-div"},r.a.createElement("div",{className:"post-header"},t&&r.a.createElement("img",{className:"author-pic",src:"https://eu.ui-avatars.com/api/?size=500&color=fff&background=".concat(this.hashColor(e.author),"&name=").concat(t.userData.first_name,"+").concat(t.userData.last_name),alt:""}),r.a.createElement("div",{className:"author-name"},r.a.createElement("p",null,t&&t.userData.first_name," ",t&&t.userData.last_name),r.a.createElement("p",null,"@",e.author," - ",e.date))),r.a.createElement("br",null),r.a.createElement("div",{className:"content-div"},r.a.createElement("p",null,e.content)),r.a.createElement("hr",null),r.a.createElement("div",{className:"react-div"},r.a.createElement("div",{className:"like-div"},r.a.createElement(v.b,{color:"primary",value:e.id_post,onClick:this.likePost},r.a.createElement(b.a,{value:e.id_post,icon:y.b})," (",e.likes_count,")")),r.a.createElement("div",{className:"comment-div"},r.a.createElement(v.b,{color:"grey",disabled:!0},r.a.createElement(b.a,{icon:y.a})," (0)")))))}}]),a}(n.Component);w.defaultProps={data:""};var S=w,C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={friends:[]},e.hashColor=function(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);var n=(16777215&t).toString(16).toUpperCase();return"00000".substring(0,6-n.length)+n},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.fetchFriends()}},{key:"fetchFriends",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://herme-io.herokuapp.com/friends",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){t.setState({friends:e})})).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.friends;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"c-col"},r.a.createElement("h5",null,"Friends :"),r.a.createElement("ul",null,t.length>0&&t.map((function(t){return r.a.createElement("li",{key:t.username},r.a.createElement("div",{className:"c-friend-div"},r.a.createElement("img",{className:"c-friend-pic",src:"https://eu.ui-avatars.com/api/?size=500&color=fff&background=".concat(e.hashColor(t.username),"&name=").concat(t.first_name,"+").concat(t.last_name),alt:""}),r.a.createElement("p",{className:"c-friend-name"},t.first_name," ",t.last_name)))})),!t.length&&r.a.createElement("div",null,r.a.createElement("p",{className:"no-f-r-msg"},"No friends yet, click ",r.a.createElement("a",{href:"".concat("/herme.io","/friends")}," here ")," to add some.")))))}}]),a}(n.Component),j=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).state={posts:[]},e.fetchPosts=e.fetchPosts.bind(Object(N.a)(e)),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"fetchPosts",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://herme-io.herokuapp.com/posts/friends",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){t.setState({posts:e})})).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.posts;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"feed-p-col"},r.a.createElement("ul",null,t&&t.map((function(t){return r.a.createElement("li",{key:t.id_post},r.a.createElement(S,{data:t,fetchPosts:e.fetchPosts}))}))),t.length<=0&&r.a.createElement("div",null,r.a.createElement("h2",{className:"no-p-msg"}," Your home page seems to be empty "),r.a.createElement("p",{className:"no-p-msg"}," Try to add some ",r.a.createElement("a",{href:"".concat("/herme.io","/friends")},"friends")," to see their posts"))),r.a.createElement("div",{className:"feed-f-col"},r.a.createElement(C,null)))}}]),a}(n.Component),O=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).handleInputChange=function(t){var a=t.target.value;e.setState({newPostContent:a})},e.createPost=function(){var t={content:e.state.newPostContent},a={method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://herme-io.herokuapp.com/posts/",a).then((function(t){t.ok&&(e.setState({newPostContent:""}),e.fetchPosts())})).catch((function(e){throw e}))},e.deletePost=function(t){var a={id:t.target.id||t.target.parentElement.id},n={method:"DELETE",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("https://herme-io.herokuapp.com/posts/",n).then((function(t){t.ok&&e.fetchPosts()})).catch((function(e){throw e}))},e.state={posts:[],newPostContent:""},e.fetchPosts=e.fetchPosts.bind(Object(N.a)(e)),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"fetchPosts",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://herme-io.herokuapp.com/posts",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e),t.setState({posts:e})})).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.posts,a=this.state.newPostContent;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"posts-p-col"},r.a.createElement("div",{className:"create-post-div"},r.a.createElement(v.f,{className:"create-post-input",label:"Create a post",outline:!0,value:a,onChange:this.handleInputChange}),r.a.createElement(v.b,{color:"primary",className:"create-post-btn",onClick:this.createPost},"Post")),r.a.createElement("ul",null,t&&t.map((function(t){return r.a.createElement("li",{key:t.id_post,className:"post-li"},r.a.createElement(S,{data:t,fetchPosts:e.fetchPosts}),r.a.createElement(v.b,{id:t.id_post,color:"danger",onClick:e.deletePost,className:"del-post-btn"},r.a.createElement(b.a,{id:t.id_post,icon:k.b})))}))),t.length<=0&&r.a.createElement("h3",{className:"no-p-msg"}," You currently have no posts.")),r.a.createElement("div",{className:"feed-f-col"},r.a.createElement(C,null)))}}]),a}(n.Component),I=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={requests:[],searchUsername:"",searchedUserData:null,userNotFound:!1},e.handleInputChange=function(t){var a=t.target.value;e.setState({searchUsername:a})},e.sendRequest=function(){var t={friend:e.state.searchedUserData.userData.username},a={method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://herme-io.herokuapp.com/requests/invite",a).then((function(t){t.ok&&e.setState({searchedUserData:null})})).catch((function(e){throw e}))},e.cancelRequest=function(){var t={friend:e.state.searchedUserData.userData.username},a={method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://herme-io.herokuapp.com/requests/cancel",a).then((function(t){t.ok&&e.setState({searchedUserData:null})})).catch((function(e){throw e}))},e.acceptInvite=function(t){var a={friend:t.target.value},n={method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("https://herme-io.herokuapp.com/requests/accept",n).then((function(t){t.ok&&(e.fetchRequests(),e.setState({searchedUserData:null}))})).catch((function(e){throw e}))},e.denyInvite=function(t){var a={friend:t.target.value},n={method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("https://herme-io.herokuapp.com/requests/deny",n).then((function(t){t.ok&&(e.fetchRequests(),e.setState({searchedUserData:null}))})).catch((function(e){throw e}))},e.searchFriend=function(t){var a=t.target.value;e.setState({searchedUserData:null}),e.setState({searchUsername:a}),fetch("https://herme-io.herokuapp.com/users/".concat(a),{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){if(404===t.status)return e.setState({userNotFound:!0}),null;if(!t.ok)throw new Error(t.status);return t.json()})).then((function(t){t&&(e.setState({searchedUserData:t}),e.setState({userNotFound:!1}))})).catch((function(e){throw e}))},e.hashColor=function(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);var n=(16777215&t).toString(16).toUpperCase();return"00000".substring(0,6-n.length)+n},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.fetchRequests()}},{key:"fetchRequests",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://herme-io.herokuapp.com/requests",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){t.setState({requests:e})})).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.requests,a=this.state.searchUsername,o=this.state.searchedUserData,s=this.state.userNotFound;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"r-col"},r.a.createElement("h2",null,"Your friend requests :"),r.a.createElement("ul",null,t.length>0&&t.map((function(t){return r.a.createElement("li",{key:t.usr},r.a.createElement("div",{className:"r-div"},r.a.createElement("img",{className:"r-pic",src:"https://eu.ui-avatars.com/api/?size=500&color=fff&background=".concat(e.hashColor(t.usr),"&name=").concat(t.usr),alt:""}),r.a.createElement("div",{className:"r-info"},r.a.createElement("p",{className:"r-username"},"@",t.usr)),r.a.createElement("div",{className:"r-actions-div"},r.a.createElement(v.b,{color:"success",value:t.usr,rounded:!0,size:"sm",className:"mr-auto",onClick:e.acceptInvite}," Accept "),r.a.createElement(v.b,{color:"danger",value:t.usr,rounded:!0,size:"sm",className:"mr-auto",onClick:e.denyInvite}," Deny "))))})),!t.length&&r.a.createElement("h5",{className:"no-f-r-msg"},"No requests for now")),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("h4",null," Add friend :"),r.a.createElement("div",null,r.a.createElement("div",{className:"f-search-div"},r.a.createElement("input",{className:"form-control mr-sm-2 f-search-input",type:"text",placeholder:"Enter a username",value:a,onChange:this.searchFriend})),o&&r.a.createElement("div",{className:"f-search-result"},!o.me&&r.a.createElement("div",{className:"friend-div"},r.a.createElement("img",{className:"friend-pic",src:"https://eu.ui-avatars.com/api/?size=500&color=fff&background=".concat(this.hashColor(o.userData.username),"&name=").concat(o.userData.first_name,"+").concat(o.userData.last_name),alt:""}),r.a.createElement("div",{className:"friend-info"},r.a.createElement("p",{className:"friend-fullname"},o.userData.first_name," ",o.userData.last_name),r.a.createElement("p",{className:"friend-username"},"@",o.userData.username)),r.a.createElement("div",{className:"friend-del-btn-div"},!o.isFriend&&!o.isRequested&&!o.isInvited&&!o.me&&r.a.createElement("span",null,r.a.createElement(v.b,{color:"success",rounded:!0,size:"sm",className:"mr-auto",onClick:this.sendRequest}," Add Friend ")),o.isFriend&&r.a.createElement("span",null,r.a.createElement(v.b,{color:"success",disabled:!0,rounded:!0,size:"sm",className:"mr-auto"}," \u2713 Friend ")),o.isRequested&&r.a.createElement("span",null,r.a.createElement(v.b,{color:"grey",rounded:!0,size:"sm",className:"mr-auto",onClick:this.cancelRequest}," \u2713 Requested ")),o.isInvited&&r.a.createElement("span",null,r.a.createElement(v.b,{color:"success",value:o.userData.username,rounded:!0,size:"sm",className:"mr-auto",onClick:this.acceptInvite}," Accept "))))),s&&a&&r.a.createElement("div",{className:"f-search-result"},r.a.createElement("h5",{className:"no-f-r-msg"},"User not found")),o&&o.me&&r.a.createElement("div",{className:"f-search-result"},r.a.createElement("h5",{className:"no-f-r-msg"},"It seems that it's you :)")))))}}]),a}(n.Component),P=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={friends:[],newFriends:[]},e.removeFriend=function(t){var a={friend:t.target.value},n={method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("https://herme-io.herokuapp.com/friends/remove",n).then((function(t){t.ok&&e.fetchFriends()})).catch((function(e){throw e}))},e.hashColor=function(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);var n=(16777215&t).toString(16).toUpperCase();return"00000".substring(0,6-n.length)+n},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.fetchFriends(),this.fetchNewFriends()}},{key:"fetchFriends",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://herme-io.herokuapp.com/friends",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){t.setState({friends:e})})).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchNewFriends",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://herme-io.herokuapp.com/friends/find",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){t.setState({newFriends:e})})).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.friends,a=this.state.newFriends;return r.a.createElement(n.Fragment,null,r.a.createElement(I,null),r.a.createElement("div",{className:"f-col"},r.a.createElement("h2",null,"Your friends :"),r.a.createElement("ul",null,t.length>0&&t.map((function(t){return r.a.createElement("li",{key:t.username},r.a.createElement("div",{className:"friend-div"},r.a.createElement("img",{className:"friend-pic",src:"https://eu.ui-avatars.com/api/?size=500&color=fff&background=".concat(e.hashColor(t.username),"&name=").concat(t.first_name,"+").concat(t.last_name),alt:""}),r.a.createElement("div",{className:"friend-info"},r.a.createElement("p",{className:"friend-fullname"},t.first_name," ",t.last_name),r.a.createElement("p",{className:"friend-username"},"@",t.username)),r.a.createElement("div",{className:"friend-del-btn-div"},r.a.createElement(v.b,{color:"danger",value:t.username,rounded:!0,size:"sm",className:"mr-auto",onClick:e.removeFriend}," Unfriend "))))})),!t.length&&r.a.createElement("h5",{className:"no-f-r-msg"},"No friends yet")),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("h4",null,"People you may know :"),r.a.createElement("ul",null,a.length>0&&a.map((function(t){return r.a.createElement("li",{key:t.username},r.a.createElement("div",{className:"friend-div"},r.a.createElement("img",{className:"friend-pic",src:"https://eu.ui-avatars.com/api/?size=500&color=fff&background=".concat(e.hashColor(t.username),"&name=").concat(t.first_name,"+").concat(t.last_name),alt:""}),r.a.createElement("div",{className:"friend-info"},r.a.createElement("p",{className:"friend-fullname"},t.first_name," ",t.last_name),r.a.createElement("p",{className:"friend-username"},"@",t.username))))})))))}}]),a}(n.Component),F=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:null},e.logout=function(){localStorage.removeItem("token"),window.location.replace("".concat("/herme.io","/login"))},e.hashColor=function(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);var n=(16777215&t).toString(16).toUpperCase();return"00000".substring(0,6-n.length)+n},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"fetchUser",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://herme-io.herokuapp.com/dash/",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){t.setState({user:e})})).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=window.location.pathname.substr(10)||"home",t=this.state.user;console.log(e);var a=t&&(t.first_name.charAt(0)||"X"),o=t&&(t.last_name.charAt(0)||"Y");return r.a.createElement(n.Fragment,null,r.a.createElement(v.g,{className:"justify-content-end top-nav"},r.a.createElement(v.h,{to:"#",className:"nav-link",onClick:this.logout},"Logout")),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"profile-col"},r.a.createElement("div",{className:"profile-info"},r.a.createElement("div",{className:"profile-pic"},t&&r.a.createElement("img",{src:"https://eu.ui-avatars.com/api/?size=500&color=fff&background=".concat(this.hashColor(t.username),"&name=").concat(a,"+").concat(o),alt:"profile_pic"})),r.a.createElement("div",{className:"profile-name"},t&&"".concat(t.first_name," ").concat(t.last_name))),r.a.createElement("div",{className:"profile-menu"},r.a.createElement(v.g,{className:"flex-column profile-nav"},r.a.createElement(c.b,{name:"home",to:"/home"},r.a.createElement(b.a,{icon:k.a}),r.a.createElement("span",null," Home")),r.a.createElement(c.b,{name:"posts",to:"/posts"},r.a.createElement(b.a,{icon:k.c}),r.a.createElement("span",null," Posts")),r.a.createElement(c.b,{name:"friends",to:"/friends"},r.a.createElement(b.a,{icon:k.d}),r.a.createElement("span",null," Friends"))))),r.a.createElement("div",{className:"feed-col"},"home"===e&&r.a.createElement(j,null),"posts"===e&&r.a.createElement(O,null),"friends"===e&&r.a.createElement(P,null))))}}]),a}(n.Component);F.defaultProps={location:"/"};var x=F;var D=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(c.a,{basename:"/herme.io"},r.a.createElement(l.c,null,localStorage.getItem("token")&&r.a.createElement(l.a,{path:"/*",component:x})),r.a.createElement(l.c,null,!localStorage.getItem("token")&&r.a.createElement(l.a,{exact:!0,path:"/login",component:E}),!localStorage.getItem("token")&&r.a.createElement(l.a,{exact:!0,path:"/register",component:g}),!localStorage.getItem("token")&&r.a.createElement(l.a,{path:"/*",component:E}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.f63ffbe8.chunk.js.map